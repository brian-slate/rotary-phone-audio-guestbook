alsa_hw_mapping: plughw:1,0
mixer_control_name: Speaker    # look at amixer scontrols for available controls
format: cd # look at aplay --help for available formats
file_type: wav
channels: 2
hook_gpio: 22
hook_type: NC # or 'NO' depending on your hardware configuration
invert_hook: false  # Set to true if your hook behavior is reversed (recording starts when handset is down instead of up)
# Software bounce compensation this is the length of time (in seconds) that the component will ignore changes in state after an initial change.
hook_bounce_time: 0.2 # float or None
recording_limit: 300
sample_rate: 44100

# Record greeting message button (Set to 0 to skip setup of this feature)
record_greeting_gpio: 23
record_greeting_type: NC # or 'NO' depending on your hardware configuration
# Software bounce compensation this is the length of time (in seconds) that the component will ignore changes in state after an initial change.
record_greeting_bounce_time: 0.1 # float or None

# Hook toggle greeting recording (rapid hook on/off to trigger record greeting mode)
hook_toggle_record_enabled: true # Enable/disable hook toggle recording feature
hook_toggle_count: 20 # Number of hook toggles required to enter record greeting mode
hook_toggle_window: 6.0 # Time window in seconds to detect toggles
record_greeting_prompt: /home/admin/rotary-phone-audio-guestbook/sounds/record_greeting_prompt.wav

# The beep sound is played when the user picks up the phone
beep: /home/admin/rotary-phone-audio-guestbook/sounds/beep.wav
beep_volume: 1.0
beep_start_delay: 0.0
beep_include_in_message: true

# The greeting sound is played when the user picks up the phone
greeting: /home/admin/rotary-phone-audio-guestbook/sounds/greeting.wav
greeting_volume: 1.0
greeting_start_delay: 1.5
greeting_mode: single  # Options: single, random, sequential (uses all .wav files in sounds/greetings/)

# The time_exceeded sound is played when the user has been recording for too long
time_exceeded: sounds/time_exceeded/new-time-exceeded.wav
time_exceeded_volume: 1.0

recordings_path: /home/admin/rotary-phone-audio-guestbook/recordings
time_exceeded_length: 300

# Recording validation settings (filter out junk/accidental recordings)
minimum_message_duration: 2.0  # Minimum seconds of recording to keep (filters accidental hang-ups)
minimum_file_size_bytes: 88200  # Minimum file size in bytes (~1 second of audio at 44.1kHz stereo)
delete_invalid_recordings: true  # Whether to automatically delete invalid recordings

shutdown_gpio: 0 #Set GPIO pin here --> Note: Pin is active LOW, pull Pin to GND to activate shutdown
shutdown_button_hold_time: 2 # default 2 seconds

# Web UI Security
web_password: ""  # Password for web UI access (leave empty to disable)

# OpenAI AI Processing Configuration
openai_auto_process: false               # Auto-process new recordings (true = automatic, false = manual via "Process Now" button)
openai_api_key: ""                      # OpenAI API key (starts with sk-)
openai_gpt_model: "gpt-5-nano"       # Fastest reasoning model variant; we disable heavy reasoning (minimal)
openai_language: "en"                    # Language code (en, es, fr, etc., or "auto")
openai_ignored_names: []                 # Names to exclude from speaker detection (e.g. bride/groom names)
openai_categories: ["joyful", "heartfelt", "humorous", "nostalgic", "advice", "blessing", "toast", "gratitude", "apology", "other"]  # Available emotional categories for AI classification
openai_processing_cooldown: 0            # PHASE 2 TEST: Immediate processing (0 = no delay)
openai_allow_processing_during_call: true   # PHASE 2 TEST: Process while phone in use
openai_compress_audio: true              # Convert WAV to MP3 before upload (saves 90% bandwidth)
openai_convert_to_mono: true             # Convert stereo to mono for speech (saves 50% bandwidth)
openai_target_sample_rate: 16000         # Target sample rate for compression (16000 = speech optimized)
openai_max_retries: 3                    # Number of retries for failed API calls
openai_retry_delay: 30                   # Seconds to wait between retries
